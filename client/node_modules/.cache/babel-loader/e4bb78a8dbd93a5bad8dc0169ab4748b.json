{"ast":null,"code":"var _jsxFileName = \"/Users/Simon/Desktop/Coding/reactplayground/client/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { isLogin } from './utils/index';\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirectToReferrer: false,\n      email: '',\n      password: ''\n    };\n    this._isMounted = false;\n\n    this.login = () => {\n      console.log('Login fired');\n      isLogin.authenticate(this.state, () => {\n        if (this._isMounted) {\n          this.setState({\n            redirectToReferrer: true\n          });\n        }\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.login();\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    console.log(this.props);\n    const path = this.props.location.pathname || {\n      from: {\n        pathname: '/'\n      }\n    };\n    const redirectToReferrer = this.state.redirectToReferrer;\n\n    if (redirectToReferrer) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"You must log in to view this page.\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Login Below!\"), React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Log in\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/Simon/Desktop/Coding/reactplayground/client/src/components/Login.js"],"names":["React","Component","Redirect","isLogin","Login","state","redirectToReferrer","email","password","_isMounted","login","console","log","authenticate","setState","handleChange","event","target","name","value","handleSubmit","preventDefault","componentDidMount","componentWillUnmount","render","props","path","location","pathname","from"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { isLogin } from './utils/index';\n\nexport default class Login extends Component {\n  state = { redirectToReferrer: false, email: '', password: '' };\n\n  _isMounted = false;\n\n  login = () => {\n    console.log('Login fired');\n    isLogin.authenticate(this.state, () => {\n      if (this._isMounted) {\n        this.setState({ redirectToReferrer: true });\n      }\n    });\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.login();\n  };\n\n  render() {\n    console.log(this.props);\n    const path = this.props.location.pathname || { from: { pathname: '/' } };\n    const { redirectToReferrer } = this.state;\n\n    if (redirectToReferrer) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div>\n        <p>You must log in to view this page.</p>\n        <form onSubmit={this.handleSubmit}>\n          <h1>Login Below!</h1>\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter email\"\n            value={this.state.email}\n            onChange={this.handleChange}\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={this.state.password}\n            onChange={this.handleChange}\n            required\n          />\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        <button onClick={this.login}>Log in</button>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}