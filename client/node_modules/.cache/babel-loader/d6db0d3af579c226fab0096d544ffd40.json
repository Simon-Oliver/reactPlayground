{"ast":null,"code":"export const isLogin = {\n  isAuthenticated: false,\n\n  authenticate(data, cb) {\n    // socket.emit('isLogin', '1234');\n    // socket.on('isLogin', ({ isLogin }) => {\n    //   if (isLogin) {\n    //     this.isAuthenticated = true;\n    //     cb('Im the callback');\n    //   }\n    //   this.isAuthenticated = false;\n    //   cb('Im the callback');\n    // });\n    // fetch('http://localhost:3000/secret', { credentials: 'include' })\n    //   .then(res => res.json())\n    //   .then(data => (this.isAuthenticated = data.isLogin))\n    //   .then(() => cb());\n    fetch('/authenticate', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        this.isAuthenticated = true;\n      } else {\n        const error = new Error(res.error);\n        throw error;\n      }\n    }).then(() => cb()).catch(err => {\n      console.error(err);\n      alert('Error logging in please try again');\n    });\n  }\n\n};","map":{"version":3,"sources":["/Users/Simon/Desktop/Coding/reactplayground/client/src/components/utils/index.js"],"names":["isLogin","isAuthenticated","authenticate","data","cb","fetch","method","body","JSON","stringify","headers","then","res","status","error","Error","catch","err","console","alert"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG;AACrBC,EAAAA,eAAe,EAAE,KADI;;AAErBC,EAAAA,YAAY,CAACC,IAAD,EAAOC,EAAP,EAAW;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEAC,IAAAA,KAAK,CAAC,eAAD,EAAkB;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFe;AAGrBO,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHY,KAAlB,CAAL,CAOGC,IAPH,CAOQC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,aAAKZ,eAAL,GAAuB,IAAvB;AACD,OAFD,MAEO;AACL,cAAMa,KAAK,GAAG,IAAIC,KAAJ,CAAUH,GAAG,CAACE,KAAd,CAAd;AACA,cAAMA,KAAN;AACD;AACF,KAdH,EAeGH,IAfH,CAeQ,MAAMP,EAAE,EAfhB,EAgBGY,KAhBH,CAgBSC,GAAG,IAAI;AACZC,MAAAA,OAAO,CAACJ,KAAR,CAAcG,GAAd;AACAE,MAAAA,KAAK,CAAC,mCAAD,CAAL;AACD,KAnBH;AAoBD;;AAtCoB,CAAhB","sourcesContent":["export const isLogin = {\n  isAuthenticated: false,\n  authenticate(data, cb) {\n    // socket.emit('isLogin', '1234');\n    // socket.on('isLogin', ({ isLogin }) => {\n    //   if (isLogin) {\n    //     this.isAuthenticated = true;\n    //     cb('Im the callback');\n    //   }\n    //   this.isAuthenticated = false;\n    //   cb('Im the callback');\n    // });\n\n    // fetch('http://localhost:3000/secret', { credentials: 'include' })\n    //   .then(res => res.json())\n    //   .then(data => (this.isAuthenticated = data.isLogin))\n    //   .then(() => cb());\n\n    fetch('/authenticate', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(res => {\n        if (res.status === 200) {\n          this.isAuthenticated = true;\n        } else {\n          const error = new Error(res.error);\n          throw error;\n        }\n      })\n      .then(() => cb())\n      .catch(err => {\n        console.error(err);\n        alert('Error logging in please try again');\n      });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}